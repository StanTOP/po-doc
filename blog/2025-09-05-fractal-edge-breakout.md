---
title: "Пробой фрактальных уровней (Fractal Edge Breakout) — ATR, EMA и фильтр по телу свечи"
description: "Бот отмечает BUY/SELL при пробое ближайшего фрактального уровня, с проверкой силы свечи и фильтрами ATR/EMA. Подходит для ловли импульсных выходов из диапазона."
slug: fractal-edge-breakout
authors: nick
tags: [Боты для Pocket Option, Стратегии, Индикаторы]
hide_table_of_contents: false
keywords:
  - Pocket Option
  - Spectra Charts
  - фракталы
  - ATR
  - EMA
  - пробой уровня
  - breakout
  - тренд
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

![fractal-edge-breakout-prev](/img/blog/fractal-edge-prev.png)

**Fractal Edge Breakout** отмечает моменты, когда цена **выходит за край** недавних локальных вершин/впадин (фракталов) и делает это **не случайной тенью**, а уверенным телом свечи. Дополнительно проверяется фон по **EMA** и масштаб движения по **ATR** — чтобы отсеять слабые «псевдопробои».
<!-- truncate -->

Бот для Pocket Option, который работает на пробое фрактальных уровней с учётом ATR/EMA. Подходит для поиска импульсных выходов из диапазона и последующих ретестов.

## Что это за инструмент

- **Фрактал** — локальный максимум/минимум, вокруг которого цена кратко разворачивалась. Пробой такого уровня часто даёт импульс.  
- **ATR** (Average True Range) — средняя амплитуда колебаний; по нему оцениваем «вес» пробоя.  
- **EMA** — экспоненциальная средняя; помогает понять, в какую сторону сейчас фоновый тренд.

> Идея простая: если цена уверенно прошла край последнего фрактала, движение поддержано волатильностью (ATR) и не идёт против фона (EMA) — показываем метку **BUY** или **SELL**.

![fractal-edge-breakout](/img/blog/fractal-edge.png)

:::note Подтверждение сигналов
Сначала видно **предварительное срабатывание**: метка может появиться в момент триггера. Окончательно сигнал **закрепляется на следующей свече**, если условия сохраняются; если нет — подсказка исчезает.
:::

## Как это работает

1. Ищем ближайшие **фрактальные уровни** за выбранное окно `K`.  
2. Проверяем, что **тело свечи** достаточно большое относительно её диапазона (фильтр «не тень»).  
3. Сопоставляем пробой с **ATR-множеством** — требуется запас хода.  
4. Сверяемся с **EMA**: лучше подтверждать пробои по направлению фонового движения.  
5. Когда все условия сходятся — на закрытии свечи ставится **BUY/SELL**.

---

## Рекомендуемые пресеты

<Tabs groupId="fractal-presets" defaultValue="balanced" queryString>
  <TabItem value="balanced" label="Сбалансированный">
    <ul>
      <li><strong>Окно фракталов (K):</strong> 5</li>
      <li><strong>Период EMA:</strong> 20</li>
      <li><strong>Период ATR:</strong> 14</li>
      <li><strong>Пробой × ATR:</strong> 0.10</li>
      <li><strong>Мин. тело/диапазон:</strong> 0.5</li>
      <li>База для 1–5м TF: умеренно чувствительно, мало ложных выходов.</li>
    </ul>
  </TabItem>

  <TabItem value="conservative" label="Консервативный">
    <ul>
      <li><strong>Окно фракталов (K):</strong> 7</li>
      <li><strong>Период EMA:</strong> 34</li>
      <li><strong>Период ATR:</strong> 14</li>
      <li><strong>Пробой × ATR:</strong> 0.15</li>
      <li><strong>Мин. тело/диапазон:</strong> 0.6</li>
      <li>Сигналов меньше, но они надёжнее на «пиле» и в боковике.</li>
    </ul>
  </TabItem>

  <TabItem value="aggressive" label="Агрессивный">
    <ul>
      <li><strong>Окно фракталов (K):</strong> 3</li>
      <li><strong>Период EMA:</strong> 12</li>
      <li><strong>Период ATR:</strong> 10</li>
      <li><strong>Пробой × ATR:</strong> 0.07</li>
      <li><strong>Мин. тело/диапазон:</strong> 0.4</li>
      <li>Больше входов на 10–30s/1м, придётся чаще фильтровать руками.</li>
    </ul>
  </TabItem>
</Tabs>

:::tip Подбор под рынок
На сильном тренде уменьшите `K` и/или `EMA` для более ранних сигналов; на «пиле» — увеличьте `K` и `Пробой × ATR`, чтобы пропускать шумовые проколы.
:::

---

## Настройки

| Название | По умолчанию | Что меняет | Увеличить | Уменьшить |
| --- | ---:| --- | --- | --- |
| **Окно фракталов (K)** | 5 | За сколько последних баров берём локальные вершины/впадины для уровня пробоя. | Учитываются более «значимые» края, сигналов меньше. | Край ближе, сигналов больше. |
| **Период EMA** | 20 | Фильтр фона: цена выше EMA — контекст вверх, ниже — вниз. | Фон сглаженнее, входы реже. | Фон быстрее меняется, входов больше. |
| **Период ATR** | 14 | Оценивает средний ход; нужен запас хода для пробоя. | Требование к «размаху» строже, меньше ложных. | Чувствительнее к мелким колебаниям. |
| **Пробой × ATR** | 0.10 | Сколько ATR добавляем/вычитаем к фракталу для подтверждения. | Пробои реже, но надёжнее. | Больше входов, выше риск «тонких» проколов. |
| **Мин. тело/диапазон** | 0.5 | Доля тела свечи в её диапазоне — отсев «одних теней». | Требуется уверенная свеча, сигналов меньше. | Пропустит больше слабых свечей. |
| **Текст BUY/SELL** | BUY / SELL | Подписи у стрелок. | Внешний вид, на логику не влияет. | — |
| **Цвет BUY/SELL** | #16a34a / #ef4444 | Цвет стрелок и текста. | Внешнее оформление. | — |

:::warning На что обратить внимание
Пробой **без тела** (одна тень) лучше игнорировать — для этого и служит параметр «Мин. тело/диапазон». Если ложных выходов много, увеличьте и его, и «Пробой × ATR».
:::

---

## Быстрый старт

1. Поставьте пресет **«Сбалансированный»**.  
2. Прогоните 200–300 свечей вашего актива и отметьте, где пробои давали продолжение.  
3. На «шумных» участках повысьте `K` и `Пробой × ATR`; на тренде — смягчите.  
4. Фиксируйте рабочий набор под ваш таймфрейм.

## FAQ

**Почему метка иногда появляется и потом пропадает?**  
Это предварительное срабатывание. Финальный сигнал подтверждается **на следующей свече** при сохранении условий; если фон меняется — метка не закрепляется.

**Если цена пробила, но сразу вернулась, что делать?**  
Ужесточите «Мин. тело/диапазон» и/или увеличьте множитель `Пробой × ATR`, чтобы требовать более решительного выхода.

**Можно ли торговать против EMA?**  
Лучше нет: фильтр по EMA помогает оставаться с направлением фонового движения и снижает количество «противоходов».
